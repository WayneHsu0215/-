{
  "version": 3,
  "sources": ["../../svelte-scrollto/src/helper.js", "../../svelte-scrollto/src/index.js"],
  "sourcesContent": ["export default {\r\n  $(selector) {\r\n    if (typeof selector === \"string\") {\r\n      return document.querySelector(selector);\r\n    }\r\n    return selector;\r\n  },\r\n  extend(...args) {\r\n    return Object.assign(...args);\r\n  },\r\n  cumulativeOffset(element) {\r\n    let top = 0;\r\n    let left = 0;\r\n\r\n    do {\r\n      top += element.offsetTop || 0;\r\n      left += element.offsetLeft || 0;\r\n      element = element.offsetParent;\r\n    } while (element);\r\n\r\n    return {\r\n      top: top,\r\n      left: left\r\n    };\r\n  },\r\n  directScroll(element) {\r\n    return element && element !== document && element !== document.body;\r\n  },\r\n  scrollTop(element, value) {\r\n    let inSetter = value !== undefined;\r\n    if (this.directScroll(element)) {\r\n      return inSetter ? (element.scrollTop = value) : element.scrollTop;\r\n    } else {\r\n      return inSetter\r\n        ? (document.documentElement.scrollTop = document.body.scrollTop = value)\r\n        : window.pageYOffset ||\r\n            document.documentElement.scrollTop ||\r\n            document.body.scrollTop ||\r\n            0;\r\n    }\r\n  },\r\n  scrollLeft(element, value) {\r\n    let inSetter = value !== undefined;\r\n    if (this.directScroll(element)) {\r\n      return inSetter ? (element.scrollLeft = value) : element.scrollLeft;\r\n    } else {\r\n      return inSetter\r\n        ? (document.documentElement.scrollLeft = document.body.scrollLeft = value)\r\n        : window.pageXOffset ||\r\n            document.documentElement.scrollLeft ||\r\n            document.body.scrollLeft ||\r\n            0;\r\n    }\r\n  }\r\n};\r\n", "import { cubicInOut } from \"svelte/easing\";\r\nimport { noop, loop, now } from \"svelte/internal\";\r\nimport _ from \"./helper\";\r\n\r\nconst defaultOptions = {\r\n  container: \"body\",\r\n  duration: 500,\r\n  delay: 0,\r\n  offset: 0,\r\n  easing: cubicInOut,\r\n  onStart: noop,\r\n  onDone: noop,\r\n  onAborting: noop,\r\n  scrollX: false,\r\n  scrollY: true\r\n};\r\n\r\nconst _scrollTo = options => {\r\n  let {\r\n    offset,\r\n    duration,\r\n    delay,\r\n    easing,\r\n    x=0,\r\n    y=0,\r\n    scrollX,\r\n    scrollY,\r\n    onStart,\r\n    onDone,\r\n    container,\r\n    onAborting,\r\n    element\r\n  } = options;\r\n\r\n  if (typeof offset === \"function\") {\r\n    offset = offset();\r\n  }\r\n\r\n  var cumulativeOffsetContainer = _.cumulativeOffset(container);\r\n  var cumulativeOffsetTarget = element\r\n    ? _.cumulativeOffset(element)\r\n    : { top: y, left: x };\r\n\r\n  var initialX = _.scrollLeft(container);\r\n  var initialY = _.scrollTop(container);\r\n\r\n  var targetX =\r\n    cumulativeOffsetTarget.left - cumulativeOffsetContainer.left + offset;\r\n  var targetY =\r\n    cumulativeOffsetTarget.top - cumulativeOffsetContainer.top + offset;\r\n\r\n  var diffX = targetX - initialX;\r\n\tvar diffY = targetY - initialY;\r\n\r\n  let scrolling = true;\r\n  let started = false;\r\n  let start_time = now() + delay;\r\n  let end_time = start_time + duration;\r\n\r\n  function scrollToTopLeft(element, top, left) {\r\n    if (scrollX) _.scrollLeft(element, left);\r\n    if (scrollY) _.scrollTop(element, top);\r\n  }\r\n\r\n  function start(delayStart) {\r\n    if (!delayStart) {\r\n      started = true;\r\n      onStart(element, {x, y});\r\n    }\r\n  }\r\n\r\n  function tick(progress) {\r\n    scrollToTopLeft(\r\n      container,\r\n      initialY + diffY * progress,\r\n      initialX + diffX * progress\r\n    );\r\n  }\r\n\r\n  function stop() {\r\n    scrolling = false;\r\n  }\r\n\r\n  loop(now => {\r\n    if (!started && now >= start_time) {\r\n      start(false)\r\n    }\r\n\r\n    if (started && now >= end_time) {\r\n      tick(1);\r\n      stop();\r\n      onDone(element, {x, y});\r\n    }\r\n\r\n    if (!scrolling) {\r\n      onAborting(element, {x, y});\r\n      return false;\r\n    }\r\n    if (started) {\r\n      const p = now - start_time;\r\n      const t = 0 + 1 * easing(p / duration);\r\n      tick(t);\r\n    }\r\n\r\n    return true;\r\n  });\r\n\r\n  start(delay);\r\n\r\n  tick(0);\r\n\r\n  return stop;\r\n};\r\n\r\nconst proceedOptions = options => {\r\n\tlet opts = _.extend({}, defaultOptions, options);\r\n  opts.container = _.$(opts.container);\r\n  opts.element = _.$(opts.element);\r\n  return opts;\r\n};\r\n\r\nconst scrollContainerHeight = containerElement => {\r\n  if (\r\n    containerElement &&\r\n    containerElement !== document &&\r\n    containerElement !== document.body\r\n  ) {\r\n    return containerElement.scrollHeight - containerElement.offsetHeight;\r\n  } else {\r\n    let body = document.body;\r\n    let html = document.documentElement;\r\n\r\n    return Math.max(\r\n      body.scrollHeight,\r\n      body.offsetHeight,\r\n      html.clientHeight,\r\n      html.scrollHeight,\r\n      html.offsetHeight\r\n    );\r\n  }\r\n};\r\n\r\nexport const setGlobalOptions = options => {\r\n\t_.extend(defaultOptions, options || {});\r\n};\r\n\r\nexport const scrollTo = options => {\r\n  return _scrollTo(proceedOptions(options));\r\n};\r\n\r\nexport const scrollToBottom = options => {\r\n  options = proceedOptions(options);\r\n\r\n  return _scrollTo(\r\n    _.extend(options, {\r\n      element: null,\r\n      y: scrollContainerHeight(options.container)\r\n    })\r\n  );\r\n};\r\n\r\nexport const scrollToTop = options => {\r\n  options = proceedOptions(options);\r\n\r\n  return _scrollTo(\r\n    _.extend(options, {\r\n      element: null,\r\n      y: 0\r\n    })\r\n  );\r\n};\r\n\r\nexport const makeScrollToAction = scrollToFunc => {\r\n  return (node, options) => {\r\n    let current = options;\r\n    const handle = e => {\r\n      e.preventDefault();\r\n      scrollToFunc(\r\n        typeof current === \"string\" ? { element: current } : current\r\n      );\r\n    };\r\n    node.addEventListener(\"click\", handle);\r\n    node.addEventListener(\"touchstart\", handle);\r\n    return {\r\n      update(options) {\r\n        current = options;\r\n      },\r\n      destroy() {\r\n        node.removeEventListener(\"click\", handle);\r\n        node.removeEventListener(\"touchstart\", handle);\r\n      }\r\n    };\r\n  };\r\n};\r\n\r\nexport const scrollto = makeScrollToAction(scrollTo);\r\nexport const scrolltotop = makeScrollToAction(scrollToTop);\r\nexport const scrolltobottom = makeScrollToAction(scrollToBottom);\r\n"],
  "mappings": ";;;;;;;;;;;AAAA,IAAO,iBAAQ;AAAA,EACb,EAAE,UAAU;AACV,QAAI,OAAO,aAAa,UAAU;AAChC,aAAO,SAAS,cAAc,QAAQ;AAAA,IACxC;AACA,WAAO;AAAA,EACT;AAAA,EACA,UAAU,MAAM;AACd,WAAO,OAAO,OAAO,GAAG,IAAI;AAAA,EAC9B;AAAA,EACA,iBAAiB,SAAS;AACxB,QAAI,MAAM;AACV,QAAI,OAAO;AAEX,OAAG;AACD,aAAO,QAAQ,aAAa;AAC5B,cAAQ,QAAQ,cAAc;AAC9B,gBAAU,QAAQ;AAAA,IACpB,SAAS;AAET,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAAA,EACF;AAAA,EACA,aAAa,SAAS;AACpB,WAAO,WAAW,YAAY,YAAY,YAAY,SAAS;AAAA,EACjE;AAAA,EACA,UAAU,SAAS,OAAO;AACxB,QAAI,WAAW,UAAU;AACzB,QAAI,KAAK,aAAa,OAAO,GAAG;AAC9B,aAAO,WAAY,QAAQ,YAAY,QAAS,QAAQ;AAAA,IAC1D,OAAO;AACL,aAAO,WACF,SAAS,gBAAgB,YAAY,SAAS,KAAK,YAAY,QAChE,OAAO,eACL,SAAS,gBAAgB,aACzB,SAAS,KAAK,aACd;AAAA,IACR;AAAA,EACF;AAAA,EACA,WAAW,SAAS,OAAO;AACzB,QAAI,WAAW,UAAU;AACzB,QAAI,KAAK,aAAa,OAAO,GAAG;AAC9B,aAAO,WAAY,QAAQ,aAAa,QAAS,QAAQ;AAAA,IAC3D,OAAO;AACL,aAAO,WACF,SAAS,gBAAgB,aAAa,SAAS,KAAK,aAAa,QAClE,OAAO,eACL,SAAS,gBAAgB,cACzB,SAAS,KAAK,cACd;AAAA,IACR;AAAA,EACF;AACF;;;AClDA,IAAM,iBAAiB;AAAA,EACrB,WAAW;AAAA,EACX,UAAU;AAAA,EACV,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,YAAY;AAAA,EACZ,SAAS;AAAA,EACT,SAAS;AACX;AAEA,IAAM,YAAY,aAAW;AAC3B,MAAI;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,IAAE;AAAA,IACF,IAAE;AAAA,IACF;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,IAAI;AAEJ,MAAI,OAAO,WAAW,YAAY;AAChC,aAAS,OAAO;AAAA,EAClB;AAEA,MAAI,4BAA4B,eAAE,iBAAiB,SAAS;AAC5D,MAAI,yBAAyB,UACzB,eAAE,iBAAiB,OAAO,IAC1B,EAAE,KAAK,GAAG,MAAM,EAAE;AAEtB,MAAI,WAAW,eAAE,WAAW,SAAS;AACrC,MAAI,WAAW,eAAE,UAAU,SAAS;AAEpC,MAAI,UACF,uBAAuB,OAAO,0BAA0B,OAAO;AACjE,MAAI,UACF,uBAAuB,MAAM,0BAA0B,MAAM;AAE/D,MAAI,QAAQ,UAAU;AACvB,MAAI,QAAQ,UAAU;AAErB,MAAI,YAAY;AAChB,MAAI,UAAU;AACd,MAAI,aAAa,IAAI,IAAI;AACzB,MAAI,WAAW,aAAa;AAE5B,WAAS,gBAAgBA,UAAS,KAAK,MAAM;AAC3C,QAAI;AAAS,qBAAE,WAAWA,UAAS,IAAI;AACvC,QAAI;AAAS,qBAAE,UAAUA,UAAS,GAAG;AAAA,EACvC;AAEA,WAAS,MAAM,YAAY;AACzB,QAAI,CAAC,YAAY;AACf,gBAAU;AACV,cAAQ,SAAS,EAAC,GAAG,EAAC,CAAC;AAAA,IACzB;AAAA,EACF;AAEA,WAAS,KAAK,UAAU;AACtB;AAAA,MACE;AAAA,MACA,WAAW,QAAQ;AAAA,MACnB,WAAW,QAAQ;AAAA,IACrB;AAAA,EACF;AAEA,WAAS,OAAO;AACd,gBAAY;AAAA,EACd;AAEA,OAAK,CAAAC,SAAO;AACV,QAAI,CAAC,WAAWA,QAAO,YAAY;AACjC,YAAM,KAAK;AAAA,IACb;AAEA,QAAI,WAAWA,QAAO,UAAU;AAC9B,WAAK,CAAC;AACN,WAAK;AACL,aAAO,SAAS,EAAC,GAAG,EAAC,CAAC;AAAA,IACxB;AAEA,QAAI,CAAC,WAAW;AACd,iBAAW,SAAS,EAAC,GAAG,EAAC,CAAC;AAC1B,aAAO;AAAA,IACT;AACA,QAAI,SAAS;AACX,YAAM,IAAIA,OAAM;AAChB,YAAM,IAAI,IAAI,IAAI,OAAO,IAAI,QAAQ;AACrC,WAAK,CAAC;AAAA,IACR;AAEA,WAAO;AAAA,EACT,CAAC;AAED,QAAM,KAAK;AAEX,OAAK,CAAC;AAEN,SAAO;AACT;AAEA,IAAM,iBAAiB,aAAW;AACjC,MAAI,OAAO,eAAE,OAAO,CAAC,GAAG,gBAAgB,OAAO;AAC9C,OAAK,YAAY,eAAE,EAAE,KAAK,SAAS;AACnC,OAAK,UAAU,eAAE,EAAE,KAAK,OAAO;AAC/B,SAAO;AACT;AAEA,IAAM,wBAAwB,sBAAoB;AAChD,MACE,oBACA,qBAAqB,YACrB,qBAAqB,SAAS,MAC9B;AACA,WAAO,iBAAiB,eAAe,iBAAiB;AAAA,EAC1D,OAAO;AACL,QAAI,OAAO,SAAS;AACpB,QAAI,OAAO,SAAS;AAEpB,WAAO,KAAK;AAAA,MACV,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,IACP;AAAA,EACF;AACF;AAEO,IAAM,mBAAmB,aAAW;AAC1C,iBAAE,OAAO,gBAAgB,WAAW,CAAC,CAAC;AACvC;AAEO,IAAM,WAAW,aAAW;AACjC,SAAO,UAAU,eAAe,OAAO,CAAC;AAC1C;AAEO,IAAM,iBAAiB,aAAW;AACvC,YAAU,eAAe,OAAO;AAEhC,SAAO;AAAA,IACL,eAAE,OAAO,SAAS;AAAA,MAChB,SAAS;AAAA,MACT,GAAG,sBAAsB,QAAQ,SAAS;AAAA,IAC5C,CAAC;AAAA,EACH;AACF;AAEO,IAAM,cAAc,aAAW;AACpC,YAAU,eAAe,OAAO;AAEhC,SAAO;AAAA,IACL,eAAE,OAAO,SAAS;AAAA,MAChB,SAAS;AAAA,MACT,GAAG;AAAA,IACL,CAAC;AAAA,EACH;AACF;AAEO,IAAM,qBAAqB,kBAAgB;AAChD,SAAO,CAAC,MAAM,YAAY;AACxB,QAAI,UAAU;AACd,UAAM,SAAS,OAAK;AAClB,QAAE,eAAe;AACjB;AAAA,QACE,OAAO,YAAY,WAAW,EAAE,SAAS,QAAQ,IAAI;AAAA,MACvD;AAAA,IACF;AACA,SAAK,iBAAiB,SAAS,MAAM;AACrC,SAAK,iBAAiB,cAAc,MAAM;AAC1C,WAAO;AAAA,MACL,OAAOC,UAAS;AACd,kBAAUA;AAAA,MACZ;AAAA,MACA,UAAU;AACR,aAAK,oBAAoB,SAAS,MAAM;AACxC,aAAK,oBAAoB,cAAc,MAAM;AAAA,MAC/C;AAAA,IACF;AAAA,EACF;AACF;AAEO,IAAM,WAAW,mBAAmB,QAAQ;AAC5C,IAAM,cAAc,mBAAmB,WAAW;AAClD,IAAM,iBAAiB,mBAAmB,cAAc;",
  "names": ["element", "now", "options"]
}
